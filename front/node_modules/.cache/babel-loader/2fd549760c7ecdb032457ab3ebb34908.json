{"ast":null,"code":"import _toConsumableArray from\"/home/eleli/Documents/Projects/Web Projects/imagix-media/front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/eleli/Documents/Projects/Web Projects/imagix-media/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Importing the necessary dependencies\nimport React,{useEffect,useState}from'react';import{Link}from\"react-router-dom\";import'./Gallery.scss';import{storage}from\"./firebase\";import{ref,uploadBytes,getDownloadURL,listAll}from'firebase/storage';import{v4}from'uuid';//Import the needed images\nimport facebook from'../Assets/facebook.png';import instagram from'../Assets/instagram.jpg';import inputImg from'../Assets/image.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Gallery(){//create states for files and image urls\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),imageUpload=_useState2[0],setImageUpload=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),imageUrls=_useState4[0],setImageUrls=_useState4[1];var imagesListRef=ref(storage,'imagix-media/');//Function to upload file on button click\nvar uploadImage=function uploadImage(){if(imageUpload==null){console.log('Image not present. Try again');return;}else{var imageRef=ref(storage,\"imagix-media/\".concat(imageUpload.name+v4()));uploadBytes(imageRef,imageUpload).then(function(snapshot){alert(\"Image added\");getDownloadURL(snapshot.ref).then(function(url){setImageUrls(function(prev){return[].concat(_toConsumableArray(prev),[url]);});});});}};useEffect(function(){listAll(imagesListRef).then(function(response){response.items.forEach(function(item){getDownloadURL(item).then(function(url){setImageUrls(function(prev){return[].concat(_toConsumableArray(prev),[url]);});console.log(imageUrls);});});});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"galleryWrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hTittle\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\"IMAGIX \",/*#__PURE__*/_jsx(\"br\",{}),\" MEDIA\"]}),\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"socials\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"links\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"https://www.facebook.com/scola.imagix\",children:/*#__PURE__*/_jsx(\"img\",{src:facebook,alt:\"\"})}),/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"https://instagram.com/imagixafrica?igshid=YmMyMTA2M2Y\",children:/*#__PURE__*/_jsx(\"img\",{src:instagram,alt:\"\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"phone\",children:/*#__PURE__*/_jsx(\"span\",{children:\"0702659667\"})})]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Gallery\"}),/*#__PURE__*/_jsx(\"div\",{className:\"images\",children:imageUrls.map(function(url){return/*#__PURE__*/_jsx(\"img\",{src:url,alt:\"\"})// <h1>Hello imagae</h1>\n;})}),/*#__PURE__*/_jsxs(\"div\",{className:\"addLocation\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputField\",children:/*#__PURE__*/_jsx(\"img\",{src:inputImg,alt:\"\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setImageUpload(event.target.files[0]);},type:\"file\",id:\"inputField\"}),/*#__PURE__*/_jsx(\"button\",{onClick:uploadImage,children:\"Add Image\"})]})]});}export default Gallery;","map":{"version":3,"names":["React","useEffect","useState","Link","storage","ref","uploadBytes","getDownloadURL","listAll","v4","facebook","instagram","inputImg","Gallery","imageUpload","setImageUpload","imageUrls","setImageUrls","imagesListRef","uploadImage","console","log","imageRef","name","then","snapshot","alert","url","prev","response","items","forEach","item","map","event","target","files"],"sources":["/home/eleli/Documents/Projects/Web Projects/imagix-media/front/src/Gallery/Galleryy.js"],"sourcesContent":["// Importing the necessary dependencies\nimport React, { useEffect, useState } from 'react'\nimport { Link } from \"react-router-dom\"\nimport './Gallery.scss'\nimport { storage } from \"./firebase\";\nimport { ref, uploadBytes, getDownloadURL, listAll} from 'firebase/storage'\nimport { v4 } from 'uuid'\n\n\n//Import the needed images\nimport facebook from '../Assets/facebook.png'\nimport instagram from '../Assets/instagram.jpg'\nimport inputImg from '../Assets/image.png'\n\nfunction Gallery() {\n\n    //create states for files and image urls\n    const [imageUpload, setImageUpload] = useState(null)\n    const [imageUrls, setImageUrls] = useState([])\n\n    const imagesListRef = ref(storage, 'imagix-media/')\n\n    //Function to upload file on button click\n    const uploadImage = ()=>{\n        if (imageUpload == null) {\n            console.log('Image not present. Try again');\n            return;\n        }else{\n            const imageRef = ref(storage, `imagix-media/${imageUpload.name + v4()}`)\n            uploadBytes(imageRef, imageUpload).then((snapshot)=>{\n                alert(\"Image added\")\n                getDownloadURL(snapshot.ref).then((url)=>{\n                    setImageUrls((prev)=>[...prev, url])\n                })\n            })\n        }\n    }\n\n\n    useEffect(()=>{\n        listAll(imagesListRef).then((response)=>{\n            response.items.forEach((item)=>{\n                getDownloadURL(item).then((url)=>{\n                    setImageUrls((prev)=>[...prev, url])\n                    console.log(imageUrls);\n                })\n            })\n        })\n    },[])\n\n    \n  return (\n    <div className='galleryWrapper'>\n        <div className=\"header\">\n                <div className=\"hTittle\">\n                   <Link to='/'> <span>IMAGIX <br /> MEDIA</span> </Link> \n                </div>\n                <div className=\"socials\">\n                    <div className=\"links\">\n                        <a target=\"_blank\" href=\"https://www.facebook.com/scola.imagix\"><img src={facebook} alt=\"\"/></a>\n                        <a target=\"_blank\" href=\"https://instagram.com/imagixafrica?igshid=YmMyMTA2M2Y\"><img src={instagram} alt=\"\" /></a>\n                    </div>\n                    <div className=\"phone\">\n                        <span>0702659667</span>\n                    </div>\n                </div>\n        </div>\n            <h2>Gallery</h2>\n            <div className=\"images\">\n                {imageUrls.map((url)=>{\n                    return(\n                            <img src={url} alt=\"\" />\n                            // <h1>Hello imagae</h1>\n                        )\n                })}\n\n               \n                \n            \n            </div>\n            <div className=\"addLocation\">\n                <label htmlFor=\"inputField\"><img src={inputImg} alt=\"\" /></label>\n                <input onChange={\n                    (event)=>{ \n                        setImageUpload(event.target.files[0]);\n                    }} \n                    type=\"file\" \n                    id='inputField'\n                />\n                <button onClick={uploadImage}>Add Image</button>\n            </div>\n            {/* <div className=\"login\">\n                <a href=\"\">LOGIN</a>\n            </div> */}\n    </div>\n  )\n}\n\nexport default Gallery"],"mappings":"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"},"metadata":{},"sourceType":"module"}